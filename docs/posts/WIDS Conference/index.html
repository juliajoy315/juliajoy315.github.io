<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julia Joy">
<meta name="dcterms.date" content="2024-03-04">
<meta name="description" content="Blog Post 3: Refelcting on and contextualizing the learning obtained from the Women in Data Science Conference">

<title>My Awesome CSCI 0451 Blog - WiDS Conference at Middlebury College</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
background-image: url(../../img/landscape.png);
background-size: cover;
      }
</style>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Awesome CSCI 0451 Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">WiDS Conference at Middlebury College</h1>
                  <div>
        <div class="description">
          Blog Post 3: Refelcting on and contextualizing the learning obtained from the Women in Data Science Conference
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Julia Joy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 4, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="abstract" class="level3">
<h3 class="anchored" data-anchor-id="abstract">Abstract:</h3>
</section>
<section id="part-1-why-spotlight-women-in-data-science" class="level3">
<h3 class="anchored" data-anchor-id="part-1-why-spotlight-women-in-data-science">Part 1: Why Spotlight Women in Data Science?</h3>
</section>
<section id="why-is-it-a-problem-that-women-are-underrepresented-in-computing-math-and-engineering-for-whom-is-it-a-problem" class="level1">
<h1>Why is it a problem that women are underrepresented in computing, math, and engineering? For whom is it a problem?</h1>
<p>Gender biases can create obstacles not only for women in technical workplaces but also for the men who work with them. In one study of equally performing teams working on a male-typed task, teams with a higher percentage of women rated both their female and male peers’ work more negatively overall and expressed less desire to work together in the future (West et al., 2012). Another study found that in a typically male field, people rated their male colleagues as less masculine and less deserving of workplace success if they had female supervisors (Brescoll, Uhlmann et al., 2012). This research sheds light on the magnitude of the problem of gender bias in predominantly male fields and perhaps points to one mechanism by which it is maintained. If men’s work is devalued when men work with women, men might take steps to avoid working with women, exacerbating the challenges facing women in male-dominated fields. While diversity has demonstrated benefits, there are real challenges to achieving it.</p>
<p>Diversity in the workforce contributes to creativity, productivity, and innovation. Women’s experiences—along with men’s experiences—should inform and guide the direction of engineering and technical innovation The United States simply can’t afford to ignore the perspectives of half the population in future engineering and technical designs. lose out on these high-quality job opportunities that account for more than 80% of stem workforce more likely to choose a male candidate over an identical female candidate for a hypothetical job opening at a lab. Both female and male scientists also offered a higher salary to the male candidate. Gender biases affect not only how we view and treat others but also how we view ourselves and what actions we take as a result</p>
</section>
<section id="which-of-the-barriers-and-unequal-challenges-described-in-the-section-why-so-few-can-be-eroded-by-events-that-spotlight-the-achievement-of-women-in-stem" class="level1">
<h1>Which of the barriers and unequal challenges described in the section “Why So Few?” can be eroded by events that spotlight the achievement of women in STEM?</h1>
<p>The section “Why so Few?” outlines various barriers and unequal challenges women face in the STEM field, such as sense of belonging, stereotypes and stereotype threat, challenging academic workspaces, as well as isolation. Women may face negative impacts such as experiencing difficultly balancing expected gendered home responsibilities and the culture of overwork, feel deincentivized by the engineering culture of disengagement as studies show women are more likely than men to express a preference for work with a clear social purpose (Konrad et al., 2000), or feel isolated as significant portion of women reported feeling as if they lacked role models and mentors and did not agree with the statement that “it is safe to speak up most of the time”. While not all of these barriers or challenges can be eroded by events that spotlight the achievement of women in STEM, there are a few that can benefit from these events.</p>
<p>What stood out most notably to me that could be benefited by these events was improving the sense of belonging for women in STEM. Events that spotlight the achievement of women in STEM shows examples of women in a historically male-dominated field, helping combat both internalized and external stereotypes. These events show women that success in STEM is possible, providing role models and mentors, increasing womens sense of belonging and thus hopefully increasing the number of women in STEM.</p>
<p>BIAS AND STEOROTYPES isolation lacking role models, lacking mentors, Many women report lacking role models and role models (about half reported lacking mentors in a study done by Hewlett et al., 2008).</p>
<p>In the STEM field, women face gender stereotypes…, that all contribute to a lower sense of belonging than men in the same field.</p>
<section id="part-2-attending-the-women-in-data-science-conference.-yay" class="level3">
<h3 class="anchored" data-anchor-id="part-2-attending-the-women-in-data-science-conference.-yay">Part 2: Attending the Women in Data Science Conference. Yay!</h3>
</section>
<section id="part-3-report" class="level3">
<h3 class="anchored" data-anchor-id="part-3-report">Part 3: Report</h3>
<p>For each of the three lightning talks, please write a paragraph describing who spoke, what they spoke about, their main argument, and what you learned. Please write two paragraphs in which you report on Dr.&nbsp;Brown’s keynote presentation, including her topic, her primary argument, and what you learned.</p>
</section>
</section>
<section id="lightning-talk-1-is-the-united-nations-security-council-a-democratic-institution-musings-and-measures-of-representation-by-professor-amy-yuen" class="level1">
<h1>Lightning Talk 1: Is the United Nations Security Council a Democratic Institution? Musings and Measures of Representation by Professor Amy Yuen</h1>
<ul>
<li>employs game theory and quanititvate analysis</li>
<li>16 years at middlebury prof of political science</li>
</ul>
<p>15 members 5 permanent with veto power, all other elected no veto power</p>
<p>UN security council voting rules favor the powerful # why do elected memebrs contineu to run for seats? what influence do they have?</p>
<p>is the council a democratic institution? - the people speak to the government, would like to think international orgs are the same, but by the setup with the veto rules we can see that it is not equal or democractic, this is the structural instutional rules view - representation, who enagages in the council whose issues get attention? - measures resoultions, formal meeting and consulations, presidental statemnets…</p>
<p>findings</p>
<p>sponsorship of brought up discussions - bigger chunk sitll peramenet meber but sitting elected is about half of box whisker plot</p>
<p>who serves on the council most? how long? - can be elected more than once - most frequent is japan, super active and give lots of money, then brazil - what would most and least inclusive councils look like? - tricky bc different amounts of seats in each region - finding of UN past was closer to the more inclusive line</p>
<p>conclusions: democratic? no representative? could be worse what does this mean for output nad effectiveness? working on it, lots of ways to influence instituions</p>
</section>
<section id="lightning-talk-2-beyond-deforestation-monitoring-change-in-tropical-forest-landscapes-by-professor-jessica-lroe" class="level1">
<h1>Lightning Talk 2: Beyond Deforestation: Monitoring Change in Tropical Forest Landscapes by Professor Jessica L’Roe</h1>
<p>let go of gender expectations 1 undergrad female prof</p>
<p>research themes: livelihoods, wellbeing, and land use in conservation hotspots survey landcover interview property data</p>
<p>land regisration in brazil - in the amazon forest - property parsal data - remote sensing deforestation v good but couldnt figure out who was responsible - asked them to register property boundaries - people cheated and rounded down to be land smallholders so they wouldnt be held responsible for deforestation</p>
<p>formalizing gold mining in peru - does formalizing it in one area discourage illegal mining in more sensitive areas? - no answer v brief</p>
<p>landscape changes around kibale national park, uganda - famous for primate diversity - population of smallholders farms increasing but why instead of increasing food production is there more tree planting?</p>
<p>her job was on the ground, who is and why are they planting trees - brute force census did you have problems getting access to all of these plots or getting people to answer these questions - 60% something</p>
<p>related problem as competition for land increase what will happen to local youth? - mothers investing in edjucation instead of land bc that was the safer bet, esp for girls</p>
<p>grace boyce lauren forrow all things can be data</p>
</section>
<section id="lighting-talk-3-computational-linguistic-models-of-mental-health-by-professor-laura-biester" class="level1">
<h1>Lighting Talk 3: Computational Linguistic Models of Mental Health By Professor Laura Biester</h1>
<p>connection between lnaguague and mental health - computer used since 1980 to analyze languages for mental health classificaiotn 1st person pronounds used more by depressed people - topic of interest for NLP</p>
<p>challenge - access to high quality data - need to find a way to use publicly available data, relying on “self-reports” like “i was diagonozed with depression” - big data era with twitter reddit… - huge growth with size of datasets people are working with</p>
<p>“pre-diagnosis data” - users who self report not representative of full pop with depression models built using datasets based on self-report don’t generlaize well</p>
<p>how to improve generalizaiton?</p>
<p>finding diagnosis dates - some self reports hint to when users got diagnosed</p>
<p>needed dataset to test generalization as well as large scale self-report based dataset collected own data</p>
<p>360 json files usernames for self reports get those reddit posts then need posts from control users -&gt; got dataset 20.5k diagonsed used and 9 controls per diagoned user around 700 with identified diagnosis data</p>
<p>second dataset uni michangan 32 depressed users, like 100 controls or somehting out of domain test dat a</p>
<p>used logisitic regression and TFIDF classified with linear model</p>
<p>then used mentalBERT extract contextual representations of words</p>
<p>prediagnosis models did well when compared to all alrge model</p>
<p>careful dtaa selction can be used to creat mro egenralizable linear models</p>
<p>model weights for pre-diagnosis models correspond more to symtpoms while all models correpsond to mental health discussion</p>
<p>data collection is big big part not just abaout building models</p>
</section>
<section id="keynote-data-science-skills-in-unexpected-places-by-professor-sarah-brown" class="level1">
<h1>Keynote: Data Science Skills in Unexpected Places by Professor Sarah Brown</h1>
<ul>
<li>cs prof at rhode island, machine learning director</li>
</ul>
<p>how to look at machine leanring more fair, should be in toolbox to be more fair</p>
<p>what is datascience? - venn diagram intersection of cs, stats, and domain expertise, but domain expertise shifts</p>
<p>key #1 - understanding data’s context - social studies - ptsd - grad school - discourse community of major - advanced writing class</p>
<p>key 2 accuracy doesn’t equal mistakenly denied bail, accuracy hard to define when not experts - disiplines are communities - just ask people</p>
<p>key 3 - national society of black energineers - meet people where they were</p>
<p>biased models still mkaing it out bc they are accuracy but need to meet people where they were</p>
<p>counts with histograms instead of fitted models</p>
<p>model predictions may not always be the right</p>
<p>the hsitograms she did by the three statistcial measures of fiarness - not as strong tradeoffs for some reaosn - took those metrics and did them without model fitting in hisograms</p>
<p>she said have to let go of accuracy to get rid of data bias, cant</p>
<p>hehe mentioned our article - what do you choose as your target variable? v important</p>
<p>“law cant move as fast as code can” because law has to be socially negotiated</p>
<section id="reflection" class="level3">
<h3 class="anchored" data-anchor-id="reflection">Reflection:</h3>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>